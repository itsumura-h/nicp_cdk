# ICP HTTP Outcall Nimå®Ÿè£…ä»•æ§˜æ›¸

## æ¦‚è¦

æœ¬æ–‡æ›¸ã¯ã€Internet Computer Protocol (ICP) ã®HTTP Outcallæ©Ÿèƒ½ã‚’Nimè¨€èªã§å®Ÿè£…ã™ã‚‹ãŸã‚ã®åŒ…æ‹¬çš„ãªä»•æ§˜æ›¸ã§ã™ã€‚æ—¢å­˜ã®Nim CDK (`nicp_cdk`) ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¾“ã„ã€ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼çµŒç”±ã§ã®HTTPé€šä¿¡æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

### âš ï¸ é‡è¦ãªæ›´æ–°æƒ…å ±

**ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®HTTP Outcallå‹•ä½œã«ã¤ã„ã¦**:
- âœ… **å¤–éƒ¨HTTPS API**ã¸ã®æ¥ç¶šã¯**ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã‚‚å®Œå…¨ã«å‹•ä½œ**ã—ã¾ã™
- âœ… **Coinbase API**ã€**HTTPBin**ã€**GitHub API**ç­‰ã§ã®å‹•ä½œã‚’ç¢ºèªæ¸ˆã¿
- âŒ **HTTPãƒ—ãƒ­ãƒˆã‚³ãƒ«**ã¨**ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPã‚¢ãƒ‰ãƒ¬ã‚¹**ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯åˆ¶é™ã•ã‚Œã¾ã™
- ğŸ’¡ é–‹ç™ºæ™‚ã¯**å¤–éƒ¨HTTPS API**ã‚’ç›´æ¥ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™

## é–‹ç™ºæ–¹é‡
- `/application/examples/http_outcall_motoko` ã®Motokoã®ã‚³ãƒ¼ãƒ‰ã§ã¯æœŸå¾…é€šã‚Šã«Coinbaseã®APIã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¦ã„ã‚‹ã®ã§ã“ã‚Œã‚’Nimã§å®Ÿè£…ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹ã€‚
- `/application/examples/http_outcall` ã§ `dfx deploy -y --with-cycles 1000000000000` ã‚³ãƒãƒ³ãƒ‰ã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹
- `dfx canister call http_outcall_backend getRequest` ã‚³ãƒãƒ³ãƒ‰ã§ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚’å®Ÿè¡Œã™ã‚‹
- ã¾ãšæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ã§httpcoutcallãŒå‹•ãã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹
- ä¾¿åˆ©é–¢æ•°ã¯ã®å®Ÿè£…ã¯ãã®å¾Œã§

## 1. èƒŒæ™¯ã¨ç›®çš„

### 1.1 ICP HTTP Outcallã®æ¦‚è¦

HTTP Outcallã¯ã€ICPã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ãŒå¤–éƒ¨ã®HTTPã‚µãƒ¼ãƒãƒ¼ã¨ç›´æ¥é€šä¿¡ã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚å¾“æ¥ã®ã‚ªãƒ©ã‚¯ãƒ«ã‚µãƒ¼ãƒ“ã‚¹ã«ä»£ã‚ã‚Šã€ã‚ˆã‚Šä¿¡é ¼æ€§ãŒé«˜ãä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ãªå¤–éƒ¨ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

### 1.2 ä¸»è¦ç‰¹å¾´

- **ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼çµŒç”±**: Principal `aaaaa-aa` ã‚’é€šã˜ãŸã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«API
- **ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ãƒ™ãƒ¼ã‚¹**: è¤‡æ•°ãƒ¬ãƒ—ãƒªã‚«ã«ã‚ˆã‚‹çµæœã®åˆæ„å½¢æˆ
- **Transformé–¢æ•°**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ­£è¦åŒ–ã«ã‚ˆã‚‹æ±ºå®šè«–çš„å®Ÿè¡Œ
- **IPv6/IPv4å¯¾å¿œ**: ç›´æ¥æ¥ç¶šã¨SOCKSãƒ—ãƒ­ã‚­ã‚·ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿæ§‹
- **ã‚µã‚¤ã‚¯ãƒ«ãƒ™ãƒ¼ã‚¹èª²é‡‘**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚µã‚¤ã‚ºã«å¿œã˜ãŸæ˜ç¤ºçš„ãªèª²é‡‘

### 1.3 å®Ÿè£…ç›®æ¨™

1. **å‹å®‰å…¨æ€§**: CandidRecordå‹ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ
2. **éåŒæœŸã‚µãƒãƒ¼ãƒˆ**: æ—¢å­˜ã®Future[T]ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã®è¸è¥²
3. **ä½¿ã„ã‚„ã™ã•**: HTTPãƒ¡ã‚½ãƒƒãƒ‰åˆ¥ã®ä¾¿åˆ©é–¢æ•°æä¾›
4. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: åŒ…æ‹¬çš„ãªã‚¨ãƒ©ãƒ¼åˆ†é¡ã¨å‡¦ç†
5. **Transformæ©Ÿèƒ½**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ­£è¦åŒ–ã®å®Œå…¨ã‚µãƒãƒ¼ãƒˆ

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### 2.1 å®Ÿè£…æ§‹é€ 

```
nicp_cdk/
â”œâ”€â”€ canisters/
â”‚   â””â”€â”€ management_canister.nim    # HTTP Outcallå®Ÿè£… (æ—¢å­˜)
â”œâ”€â”€ ic_types/
â”‚   â”œâ”€â”€ http_types.nim            # HTTPå‹å®šç¾©
â”‚   â””â”€â”€ ic_record.nim             # CandidRecordçµ±åˆ
â””â”€â”€ utils/
    â””â”€â”€ http_utils.nim            # HTTPä¾¿åˆ©é–¢æ•°
```

### 2.2 ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼é€šä¿¡ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant C as Canister
    participant M as Management Canister
    participant N as IC Network
    participant S as External Server

    C->>M: http_request(HttpRequest)
    M->>N: Store request in replicated state
    N->>S: Multiple replicas make HTTP call
    S->>N: HTTP responses (potentially different)
    N->>N: Apply transform function
    N->>N: Consensus on transformed response
    N->>M: Agreed response
    M->>C: HttpResponse
```

### 2.3 ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

1. **å‹å®šç¾©**: HTTPé–¢é€£ã®Candidå¯¾å¿œå‹
2. **é€šä¿¡å±¤**: ic0ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
3. **Transformæ©Ÿèƒ½**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ­£è¦åŒ–å‡¦ç†
4. **ä¾¿åˆ©é–¢æ•°**: HTTPãƒ¡ã‚½ãƒƒãƒ‰åˆ¥ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼
5. **ã‚¨ãƒ©ãƒ¼å‡¦ç†**: åŒ…æ‹¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## 3. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã§ã®HTTP Outcall

### 3.1 ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®å‹•ä½œ

ãƒ­ãƒ¼ã‚«ãƒ«dfxç’°å¢ƒã§ã¯ã€HTTP Outcallæ©Ÿèƒ½ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å‹•ä½œã—ã¾ã™ï¼š

#### 3.1.1 åŸºæœ¬å‹•ä½œ

**é‡è¦ãªç†è§£**:
- HTTP Outcallæ©Ÿèƒ½ã¯**dfx 0.28.0ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæœ‰åŠ¹**
- `--enable-canister-http`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯**éæ¨å¥¨**ï¼ˆè­¦å‘Šè¡¨ç¤ºï¼‰
- ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã‚‚**å¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹ãŒå¯èƒ½**

**å‹•ä½œçŠ¶æ³**:
- **å¤–éƒ¨HTTPS API**ï¼ˆhttps://api.coinbase.comã€https://httpbin.orgãªã©ï¼‰: âœ… å®Œå…¨å‹•ä½œ
- **å¤–éƒ¨HTTP API**ï¼ˆhttp://httpbin.orgï¼‰: âš ï¸ HTTPSã«è‡ªå‹•ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- **localhost HTTPS**ï¼ˆhttps://localhost:8443ï¼‰: âœ… è¨¼æ˜æ›¸ãŒæœ‰åŠ¹ãªã‚‰å‹•ä½œ
- **localhost HTTP**ï¼ˆhttp://localhost:8000ï¼‰: âŒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™
- **åŒä¸€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯HTTP**ï¼ˆhttp://192.168.x.xï¼‰: âŒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™

#### 3.1.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™

**åˆ¶é™å†…å®¹**:
1. **HTTPãƒ—ãƒ­ãƒˆã‚³ãƒ«**: HTTPã¯åŸºæœ¬çš„ã«åˆ¶é™ã€HTTPSã®ã¿è¨±å¯
2. **ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPã‚¢ãƒ‰ãƒ¬ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™
3. **è¨¼æ˜æ›¸æ¤œè¨¼**: æœ‰åŠ¹ãªTLSè¨¼æ˜æ›¸ãŒå¿…è¦

**åˆ¶é™ã®ç†ç”±**:
1. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: Man-in-the-middleæ”»æ’ƒã®é˜²æ­¢
2. **ä¸€è²«æ€§**: æœ¬ç•ªç’°å¢ƒã¨ã®å‹•ä½œçµ±ä¸€
3. **æ±ºå®šè«–æ€§**: è¤‡æ•°ãƒ¬ãƒ—ãƒªã‚«ã§ã®åˆæ„å¯èƒ½ãªé€šä¿¡ã®ã¿è¨±å¯

### 3.2 ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### 3.2.1 åŸºæœ¬è¨­å®šï¼ˆæœ€å°æ§‹æˆï¼‰

HTTP Outcallã¯**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹**ãªãŸã‚ã€ç‰¹åˆ¥ãªè¨­å®šã¯ä¸è¦ã§ã™ï¼š

```json
{
  "canisters": {
    "your_canister": {
      "type": "motoko",
      "main": "src/main.mo"
    }
  },
  "version": 1
}
```

#### 3.2.2 é«˜åº¦ãªè¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

å¿…è¦ã«å¿œã˜ã¦HTTP Outcallã®ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã‚’èª¿æ•´ï¼š

```json
{
  "canisters": {
    "your_canister": {
      "type": "motoko", 
      "main": "src/main.mo"
    }
  },
  "defaults": {
    "replica": {
      "log_level": "info"
    }
  },
  "version": 1
}
```

#### 3.2.3 dfx startã‚³ãƒãƒ³ãƒ‰

ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¬ãƒ—ãƒªã‚«ã‚’èµ·å‹•ï¼ˆHTTP Outcallã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ï¼‰ï¼š

```bash
# åŸºæœ¬çš„ãªèµ·å‹•
dfx start --background

# ã‚¯ãƒªãƒ¼ãƒ³ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆæ¨å¥¨ï¼‰
dfx start --clean --background

# è©³ç´°ãƒ­ã‚°ã§HTTP Outcallã‚’ãƒ‡ãƒãƒƒã‚°
dfx start --replica-log-level debug
```

#### 3.2.4 ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
# HTTP Outcallã®è©³ç´°ãƒ­ã‚°ã‚’æœ‰åŠ¹åŒ–
export DFX_LOG_LEVEL=debug

# æ³¨æ„ï¼šHTTP Outcallã‚’ç„¡åŠ¹åŒ–ã—ãªã„ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ã®ãŸã‚ï¼‰
# export DFX_CANISTER_HTTP_ENABLED=false  # âŒ æ¨å¥¨ã—ãªã„
```

### 3.3 ãƒ­ãƒ¼ã‚«ãƒ«HTTP Outcallã®ãƒ†ã‚¹ãƒˆæ–¹æ³•

#### 3.3.1 æ¨å¥¨ãƒ†ã‚¹ãƒˆæ–¹æ³•ï¼šå¤–éƒ¨HTTPS API

**å¤–éƒ¨HTTPS APIä½¿ç”¨ã®åŸºæœ¬ãƒ•ãƒ­ãƒ¼**:
1. **ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆé¸æŠ**: å‹•ä½œç¢ºèªæ¸ˆã¿APIï¼ˆCoinbaseã€HTTPBinã€GitHubç­‰ï¼‰
2. **HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ**: URLã€ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µã‚¤ã‚ºåˆ¶é™ã®è¨­å®š
3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: æ¥ç¶šå¤±æ•—ã€HTTPã‚¨ãƒ©ãƒ¼ã€ICã‚¨ãƒ©ãƒ¼ã®åˆ†åˆ¥å‡¦ç†
4. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ¤œè¨¼**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ç¢ºèªã¨ãƒœãƒ‡ã‚£å†…å®¹ã®å–å¾—

**å‹•ä½œç¢ºèªæ¸ˆã¿ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- Coinbase Exchange API: æš—å·é€šè²¨ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿
- HTTPBin: HTTPæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆç”¨API
- GitHub API: ã‚·ãƒ³ãƒ—ãƒ«ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹

#### 3.3.2 ãƒ­ãƒ¼ã‚«ãƒ«HTTPSã‚µãƒ¼ãƒãƒ¼ãƒ†ã‚¹ãƒˆ

æœ‰åŠ¹ãªTLSè¨¼æ˜æ›¸ã‚’æŒã¤ãƒ­ãƒ¼ã‚«ãƒ«HTTPSã‚µãƒ¼ãƒãƒ¼ãŒå¿…è¦ï¼š

```bash
# è‡ªå·±ç½²åè¨¼æ˜æ›¸ã«ã‚ˆã‚‹HTTPSã‚µãƒ¼ãƒãƒ¼ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
# æ³¨æ„ï¼šè‡ªå·±ç½²åè¨¼æ˜æ›¸ã¯ICã§æ‹’å¦ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes
python3 -c "
import http.server
import ssl
httpd = http.server.HTTPServer(('localhost', 8443), http.server.SimpleHTTPRequestHandler)
httpd.socket = ssl.wrap_socket(httpd.socket, certfile='cert.pem', keyfile='key.pem', server_side=True)
httpd.serve_forever()
"
```

#### 3.3.3 åˆ¶é™ã®ã‚ã‚‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«

**ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å‹•ä½œã—ãªã„æ¥ç¶šãƒ‘ã‚¿ãƒ¼ãƒ³**:
- âŒ **HTTPãƒ—ãƒ­ãƒˆã‚³ãƒ«**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™ã«ã‚ˆã‚ŠHTTPSå¿…é ˆ
- âŒ **ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPã‚¢ãƒ‰ãƒ¬ã‚¹**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™
- âŒ **è‡ªå·±ç½²åè¨¼æ˜æ›¸**: æœ‰åŠ¹ãªTLSè¨¼æ˜æ›¸ãŒå¿…è¦
- âŒ **éæ¨™æº–ãƒãƒ¼ãƒˆ**: ä¸€éƒ¨ã®ãƒãƒ¼ãƒˆã¯åˆ¶é™ã•ã‚Œã‚‹å¯èƒ½æ€§

**æœŸå¾…ã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼å‹•ä½œ**:
- HTTPãƒ—ãƒ­ãƒˆã‚³ãƒ« â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¨ãƒ©ãƒ¼
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIP â†’ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦
- ç„¡åŠ¹è¨¼æ˜æ›¸ â†’ TLSæ¤œè¨¼å¤±æ•—

### 3.4 ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 3.4.1 æ®µéšçš„é–‹ç™ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

1. **Phase 1**: å¤–éƒ¨HTTPS APIã§ãƒ†ã‚¹ãƒˆï¼ˆæ¨å¥¨é–‹å§‹ç‚¹ï¼‰
2. **Phase 2**: æ©Ÿèƒ½å®Ÿè£…ã¨Transformé–¢æ•°ã®é–‹ç™º
3. **Phase 3**: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹
4. **Phase 4**: IC testnetã§ã®çµ±åˆæ¤œè¨¼

#### 3.4.2 ãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

`test-config.json`:
```json
{
  "httpOutcall": {
    "enabled": true,
    "testEndpoints": [
      {
        "name": "coinbase_ticker",
        "url": "https://api.exchange.coinbase.com/products/ICP-USD/ticker",
        "method": "GET",
        "description": "æš—å·é€šè²¨ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿å–å¾—"
      },
      {
        "name": "httpbin_json", 
        "url": "https://httpbin.org/json",
        "method": "GET",
        "description": "JSONãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ"
      },
      {
        "name": "github_zen",
        "url": "https://api.github.com/zen", 
        "method": "GET",
        "description": "ã‚·ãƒ³ãƒ—ãƒ«ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹"
      }
    ]
  }
}
```

#### 3.4.3 ãƒ‡ãƒãƒƒã‚°ã‚³ãƒãƒ³ãƒ‰

```bash
# HTTP Outcallè¨­å®šç¢ºèª
dfx canister status --all

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šç¢ºèª
dfx info networks

# dfxè¨­å®šç¢ºèª
dfx info

# ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ãƒ­ã‚°ç¢ºèª
dfx canister logs your_canister
```

### 3.5 ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### 3.5.1 ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

| å•é¡Œ | åŸå›  | è§£æ±ºç­– |
|------|------|--------|
| HTTPãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¨ãƒ©ãƒ¼ | HTTPSãŒå¿…è¦ | URLã‚’HTTPã‹ã‚‰HTTPSã«å¤‰æ›´ |
| ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼ | ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ¶é™ | å¤–éƒ¨HTTPS APIã‚’ä½¿ç”¨ |
| `--enable-canister-http`è­¦å‘Š | éæ¨å¥¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä½¿ç”¨ | ã‚ªãƒ—ã‚·ãƒ§ãƒ³å‰Šé™¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæœ‰åŠ¹ï¼‰ |
| TLSè¨¼æ˜æ›¸ã‚¨ãƒ©ãƒ¼ | ç„¡åŠ¹ãƒ»æœŸé™åˆ‡ã‚Œè¨¼æ˜æ›¸ | æœ‰åŠ¹ãªè¨¼æ˜æ›¸ã‚’æŒã¤APIã‚’ä½¿ç”¨ |
| Transformé–¢æ•°ã‚¨ãƒ©ãƒ¼ | ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¸ä¸€è‡´ | Transformé–¢æ•°ã®æ­£è¦åŒ–ãƒ­ã‚¸ãƒƒã‚¯ç¢ºèª |
| ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é…å»¶ãƒ»Transformå‡¦ç† | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šèª¿æ•´ãƒ»Transformæœ€é©åŒ– |

#### 3.5.2 ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®æ´»ç”¨

```bash
# è©³ç´°ãƒ­ã‚°ã§dfxèµ·å‹•
dfx start --replica-log-level debug

# ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã¨ãƒ¬ãƒ—ãƒªã‚«ã®ãƒ­ã‚°ã‚’ç›£è¦–
tail -f ~/.local/share/dfx/network/local/replica.log
```

#### 3.5.3 å®Ÿéš›ã®å‹•ä½œç¢ºèª

```bash
# dfxè¨­å®šç¢ºèª
dfx info

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šç¢ºèª  
dfx ping local

# å‹•ä½œå®Ÿè¨¼æ¸ˆã¿ã®Motokoã‚µãƒ³ãƒ—ãƒ«å®Ÿè¡Œ
cd examples/http_outcall_motoko
dfx deploy --with-cycles 1000000000000
dfx canister call http_outcall_motoko_backend get_icp_usd_exchange

# æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›ä¾‹:
# ("[[1682978460,5.714,5.718,5.714,5.714,243.5678]]")
```

## 4. å‹å®šç¾©ä»•æ§˜

### 4.1 åŸºæœ¬HTTPå‹

**ä¸»è¦å‹å®šç¾©ã®æ§‹æˆ**:
- **HttpMethod**: æ¨™æº–HTTPãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆGET, POST, PUT, DELETEç­‰ï¼‰ã®enumå‹
- **HttpRequest**: URLã€ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒœãƒ‡ã‚£ã€ãƒ¡ã‚½ãƒƒãƒ‰ã€Transformé–¢æ•°ã‚’å«ã‚€æ§‹é€ ä½“
- **HttpResponse**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒœãƒ‡ã‚£ã‚’å«ã‚€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ä½“
- **HttpTransform**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ­£è¦åŒ–ç”¨ã®é–¢æ•°ã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ

**è¨­è¨ˆåŸå‰‡**:
- RFC-3986æº–æ‹ ã®URLï¼ˆæœ€å¤§8192æ–‡å­—ï¼‰
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µã‚¤ã‚ºä¸Šé™2MBï¼ˆICåˆ¶é™ï¼‰
- Optionå‹ã«ã‚ˆã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¦ç´ ã®æ˜ç¤ºçš„è¡¨ç¾

### 4.2 CandidRecordçµ±åˆ

**å‹å¤‰æ›ã®å®Ÿè£…ãƒ•ãƒ­ãƒ¼**:
1. **HttpRequest â†’ CandidRecord**: IC Management Canisterä»•æ§˜æº–æ‹ ã®å½¢å¼å¤‰æ›
2. **Optionalå‹å‡¦ç†**: `Option[T]`ã‚’Candidæº–æ‹ ã®Optionalè¡¨ç¾ã«å¤‰æ›
3. **ãƒ˜ãƒƒãƒ€ãƒ¼æ­£è¦åŒ–**: ã‚¿ãƒ—ãƒ«é…åˆ—å½¢å¼ã§ã®çµ±ä¸€è¡¨ç¾
4. **Transformé–¢æ•°çµ±åˆ**: é–¢æ•°ãƒã‚¤ãƒ³ã‚¿ã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®é©åˆ‡ãªè¡¨ç¾

**é€†å¤‰æ›ãƒ—ãƒ­ã‚»ã‚¹**:
1. **CandidValue â†’ HttpResponse**: ICã‹ã‚‰ã®å¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è§£æ
2. **å‹å®‰å…¨ãªæŠ½å‡º**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒœãƒ‡ã‚£ã®ç¢ºå®Ÿãªå–å¾—
3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ä¸æ­£ãªå½¢å¼ã®Candidãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¯¾ã™ã‚‹å …ç‰¢ãªå‡¦ç†

### 4.3 ã‚¨ãƒ©ãƒ¼å‹å®šç¾©

**ã‚¨ãƒ©ãƒ¼åˆ†é¡ä½“ç³»**:
- **NetworkError**: æ¥ç¶šå¤±æ•—ã€DNSè§£æ±ºã‚¨ãƒ©ãƒ¼
- **TimeoutError**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹å¾…æ©Ÿæ™‚é–“è¶…é
- **ConsensusError**: ãƒ¬ãƒ—ãƒªã‚«é–“ã§ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¸ä¸€è‡´
- **TransformError**: Transformé–¢æ•°å®Ÿè¡Œæ™‚ã®ä¾‹å¤–
- **CyclesError**: HTTP Outcallå®Ÿè¡Œç”¨ã‚µã‚¤ã‚¯ãƒ«ä¸è¶³
- **ResponseTooLarge**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µã‚¤ã‚ºä¸Šé™ï¼ˆ2MBï¼‰è¶…é
- **InvalidUrl**: URLå½¢å¼ã®ä¸æ­£
- **UnsupportedScheme**: HTTPSãƒ—ãƒ­ãƒˆã‚³ãƒ«ä»¥å¤–ã®ä½¿ç”¨
- **ManagementCanisterError**: IC Management Canisterã‹ã‚‰ã®æ‹’å¦

## 5. å®Ÿè£…ä»•æ§˜

### 5.1 åŸºæœ¬HTTP Outcallå®Ÿè£…

**HTTP Outcallå®Ÿè¡Œã®åŸºæœ¬ãƒ•ãƒ­ãƒ¼**:
1. **Futureä½œæˆ**: éåŒæœŸå‡¦ç†ç”¨ã®Future[HttpResponse]åˆæœŸåŒ–
2. **Management Canisterå‘¼ã³å‡ºã—**: Principal `aaaaa-aa`ã¸ã®æ¥ç¶šè¨­å®š
3. **ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ç™»éŒ²**: æˆåŠŸãƒ»å¤±æ•—æ™‚ã®å‡¦ç†é–¢æ•°ç™»éŒ²
4. **Candidã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**: HttpRequestâ†’Candidãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å¤‰æ›
5. **ic0ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ¼ãƒ«å®Ÿè¡Œ**: `ic0_call_perform`ã«ã‚ˆã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡
6. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å„æ®µéšã§ã®ä¾‹å¤–å‡¦ç†ã¨é©åˆ‡ãªã‚¨ãƒ©ãƒ¼å ±å‘Š

### 5.2 ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°å®Ÿè£…

**æˆåŠŸæ™‚ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†**:
1. **Futureå¾©å…ƒ**: ç’°å¢ƒå¤‰æ•°ã‹ã‚‰Futureã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å–å¾—
2. **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—**: `ic0_msg_arg_data_size`ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µã‚¤ã‚ºç¢ºèª
3. **ãƒ‡ãƒ¼ã‚¿ã‚³ãƒ”ãƒ¼**: `ic0_msg_arg_data_copy`ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿å–å¾—
4. **Candidãƒ‡ã‚³ãƒ¼ãƒ‰**: ãƒã‚¤ãƒŠãƒªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¸ã®å¤‰æ›
5. **HttpResponseæ§‹ç¯‰**: CandidValueã‹ã‚‰HttpResponseã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ
6. **Futureå®Œäº†**: `complete()`ã§Futureã¸ã®çµæœè¨­å®š

**å¤±æ•—æ™‚ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†**:
1. **Futureå¾©å…ƒ**: æˆåŠŸæ™‚ã¨åŒæ§˜ã®Futureå–å¾—
2. **ã‚¨ãƒ©ãƒ¼åˆ†é¡**: æ‹’å¦ç†ç”±ã®åˆ†æï¼ˆã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹å¤±æ•—ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ç­‰ï¼‰
3. **Exceptionç”Ÿæˆ**: é©åˆ‡ãªHttpOutcallErrorã®ä½œæˆ
4. **Futureå¤±æ•—å‡¦ç†**: `fail()`ã§Futureã¸ã®ã‚¨ãƒ©ãƒ¼è¨­å®š

### 5.3 Transformé–¢æ•°ã®å®Ÿè£…æ–¹é‡

#### 5.3.1 Transformé–¢æ•°ã®å¿…è¦æ€§ã¨å½¹å‰²

Transformé–¢æ•°ã¯**ICP HTTP Outcallã®ä¸­æ ¸æ©Ÿèƒ½**ã§ã™ã€‚ICã§ã¯è¤‡æ•°ã®ãƒ¬ãƒ—ãƒªã‚«ãŒåŒã˜HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä¸¦è¡Œå®Ÿè¡Œã™ã‚‹ãŸã‚ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®åˆæ„å½¢æˆãŒå¿…è¦ã§ã™ã€‚

**Transformé–¢æ•°ã®å½¹å‰²**ï¼ˆå‚è€ƒ: [IC HTTPS Outcallsä»•æ§˜](https://internetcomputer.org/docs/references/https-outcalls-how-it-works)ï¼‰:
- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ­£è¦åŒ–**: ãƒ¬ãƒ—ãƒªã‚«é–“ã§ç•°ãªã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’çµ±ä¸€ã™ã‚‹
- **ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹å¯¾å¿œ**: ICãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®åˆæ„ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¨ã®çµ±åˆ
- **æ±ºå®šè«–çš„å®Ÿè¡Œ**: å…¨ãƒ¬ãƒ—ãƒªã‚«ã§åŒä¸€ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ä¿è¨¼

#### 5.3.2 Transformé–¢æ•°ãŒå¿…è¦ãªç†ç”±

[ICå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://internetcomputer.org/docs/building-apps/network-features/using-http/https-outcalls/post)ã«ã‚ˆã‚‹ã¨ï¼š

> Headers in the response may not always be identical across all nodes that process the request for consensus, causing the result of the call to be "No consensus could be reached." This particular error message can be hard to debug, but one method to resolve this error is to edit the response using the transform function.

**å…¸å‹çš„ãªå¯å¤‰è¦ç´ **:
- **ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ç³»ãƒ˜ãƒƒãƒ€ãƒ¼**: `Date`, `Last-Modified`, `Expires`
- **ã‚µãƒ¼ãƒãƒ¼å›ºæœ‰ãƒ˜ãƒƒãƒ€ãƒ¼**: `Server`, `X-Request-ID`, `X-Timestamp`
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³é–¢é€£**: `Set-Cookie`, `ETag`
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ¶å¾¡**: `Cache-Control`, `Age`

#### 5.3.3 Nim CDKã§ã®Transformé–¢æ•°å®Ÿè£…ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

**å®Ÿè£…æ–¹é‡ã®æ¦‚è¦**:
1. **Queryé–¢æ•°ã¨ã—ã¦å®Ÿè£…**: Transformé–¢æ•°ã¯ICã‚·ã‚¹ãƒ†ãƒ APIã‹ã‚‰Queryå‘¼ã³å‡ºã—
2. **Candidã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å¯¾å¿œ**: IC Management Canisterã¨ã®äº’æ›æ€§
3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: è»½é‡ãªå‡¦ç†ã§ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹é€Ÿåº¦å‘ä¸Š

**Transformé–¢æ•°ã®å®Ÿè£…ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**:
1. **ICã‚·ã‚¹ãƒ†ãƒ APIçµ±åˆ**: Transformé–¢æ•°ã®IC Management Canisterã¸ã®ç™»éŒ²
2. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆTransform**: å¯å¤‰ãƒ˜ãƒƒãƒ€ãƒ¼é™¤å»ã«ã‚ˆã‚‹åŸºæœ¬çš„ãªæ­£è¦åŒ–
3. **JSONç‰¹åŒ–Transform**: JSONãƒ¬ã‚¹ãƒãƒ³ã‚¹å†…ã®å¯å¤‰è¦ç´ ï¼ˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã€IDç­‰ï¼‰ã®æ­£è¦åŒ–
4. **ã‚«ã‚¹ã‚¿ãƒ Transform**: APIå›ºæœ‰ã®è¦ä»¶ã«å¯¾å¿œã—ãŸå°‚ç”¨Transformé–¢æ•°

**Transformé–¢æ•°ã®è¨­è¨ˆåŸå‰‡**:
- **æ±ºå®šè«–æ€§**: åŒä¸€å…¥åŠ›ã«å¯¾ã™ã‚‹åŒä¸€å‡ºåŠ›ã®ä¿è¨¼
- **è»½é‡æ€§**: ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹é€Ÿåº¦ã¸ã®å½±éŸ¿æœ€å°åŒ–
- **å …ç‰¢æ€§**: ç•°å¸¸ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å¯¾ã™ã‚‹å®‰å…¨ãªå‡¦ç†
    
    if headerNormalized.status != 200:
      return headerNormalized
    
    try:
      # JSONãƒ¬ã‚¹ãƒãƒ³ã‚¹æœ¬ä½“ã®æ­£è¦åŒ–ï¼ˆç°¡æ˜“å®Ÿè£…ï¼‰
      var jsonStr = ""
      for b in headerNormalized.body:
        jsonStr.add(char(b))
      
      # APIç‰¹æœ‰ã®å¯å¤‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ­£è¦åŒ–
      # ä¾‹: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’å›ºå®šå€¤ã«ç½®æ›
      jsonStr = jsonStr.replace(re"\"timestamp\":\s*\d+", "\"timestamp\":0")
      jsonStr = jsonStr.replace(re"\"time\":\s*\"[^\"]+\"", "\"time\":\"normalized\"")
      jsonStr = jsonStr.replace(re"\"id\":\s*\"[^\"]+\"", "\"id\":\"normalized\"")
      
      # æ­£è¦åŒ–ã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’ãƒã‚¤ãƒˆã«å¤‰æ›
      var normalizedBytes: seq[uint8] = @[]
      for c in jsonStr:
        normalizedBytes.add(uint8(ord(c)))
      
      HttpResponse(
        status: headerNormalized.status,
        headers: headerNormalized.headers,
        body: normalizedBytes
      )
    except Exception:
      # ã‚¨ãƒ©ãƒ¼æ™‚ã¯å…ƒã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™
      headerNormalized
  
  HttpTransform(
    function: jsonTransform,
    context: @[]
  )
```

#### 5.3.4 å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

**é–‹ç™ºæ‰‹é †**ï¼ˆ[ICå…¬å¼ã‚¬ã‚¤ãƒ‰](https://internetcomputer.org/docs/tutorials/developer-liftoff/level-3/3.2-https-outcalls)å‚è€ƒï¼‰:

1. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹åˆ†æ**: `curl`ã§åŒã˜APIã‚’2å›å‘¼ã³å‡ºã—ã¦diffã‚’ç¢ºèª
   ```bash
   curl -v https://api.example.com/data > response1.txt
   curl -v https://api.example.com/data > response2.txt
   diff response1.txt response2.txt
   ```

2. **Transformé–¢æ•°è¨­è¨ˆ**: å·®åˆ†ã‚’é™¤å»ã™ã‚‹å‡¦ç†ã‚’å®Ÿè£…

3. **æ®µéšçš„ãƒ†ã‚¹ãƒˆ**:
   - ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒï¼ˆå˜ä¸€ãƒ¬ãƒ—ãƒªã‚«ï¼‰ã§ã®ãƒ†ã‚¹ãƒˆ
   - IC testnetï¼ˆè¤‡æ•°ãƒ¬ãƒ—ãƒªã‚«ï¼‰ã§ã®æ¤œè¨¼

**Transformé–¢æ•°ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®äº‹é …**:
- **è»½é‡å‡¦ç†**: ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã®é€Ÿåº¦ã«å½±éŸ¿ã™ã‚‹ãŸã‚æœ€å°é™ã®å‡¦ç†
- **ã‚¨ãƒ©ãƒ¼å‡¦ç†**: ä¾‹å¤–æ™‚ã¯å…ƒã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: å¤§ããªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§ã‚‚åŠ¹ç‡çš„ã«å‡¦ç†

#### 5.3.5 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ‡ãƒãƒƒã‚°

**ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–**:

| ã‚¨ãƒ©ãƒ¼ | åŸå›  | è§£æ±ºç­– |
|-------|------|--------|
| `No consensus could be reached` | Transformé–¢æ•°ã®ä¸å®Œå…¨æ€§ | ãƒ¬ã‚¹ãƒãƒ³ã‚¹diffã‚’å†ç¢ºèªã€Transformé–¢æ•°ã‚’æ”¹å–„ |
| `SysFatal - Timeout expired` | Transformå‡¦ç†æ™‚é–“éé•· | Transformé–¢æ•°ã®æœ€é©åŒ– |
| `IC0406` | Transformé–¢æ•°ã®æœªå®Ÿè£… | é©åˆ‡ãªTransformé–¢æ•°ã®å®Ÿè£…ãƒ»ç™»éŒ² |

**ãƒ‡ãƒãƒƒã‚°æˆ¦ç•¥**:
1. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ¯”è¼ƒ**: è¤‡æ•°ã®APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’diffã§ç¢ºèª
2. **æ®µéšçš„å®Ÿè£…**: ã¾ãšãƒ˜ãƒƒãƒ€ãƒ¼æ­£è¦åŒ–ã€æ¬¡ã«ãƒœãƒ‡ã‚£æ­£è¦åŒ–
3. **ãƒ­ã‚°å‡ºåŠ›**: Transformé–¢æ•°å†…ã§ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å¤‰æ›éç¨‹ã‚’è¨˜éŒ²

#### 5.3.6 å°†æ¥ã®æ‹¡å¼µè¨ˆç”»

**Phase 1**: åŸºæœ¬Transformé–¢æ•°ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼æ­£è¦åŒ–ï¼‰
**Phase 2**: JSONç‰¹åŒ–Transformé–¢æ•°  
**Phase 3**: ã‚«ã‚¹ã‚¿ãƒ Transformé–¢æ•°API
**Phase 4**: Transformé–¢æ•°ã®å‹•çš„ç™»éŒ²æ©Ÿèƒ½

ã“ã®è¨­è¨ˆã«ã‚ˆã‚Šã€Rustã‚„Motokoã¨åŒç­‰ã®ä¿¡é ¼æ€§ã§HTTP OutcallãŒå®Ÿç¾å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

## 6. ä¾¿åˆ©é–¢æ•°API

### 6.1 HTTPãƒ¡ã‚½ãƒƒãƒ‰åˆ¥é–¢æ•°

**ä¾¿åˆ©é–¢æ•°ã®è¨­è¨ˆã‚³ãƒ³ã‚»ãƒ—ãƒˆ**:
- **HTTPãƒ¡ã‚½ãƒƒãƒ‰ç‰¹åŒ–**: GETã€POSTã€PUTã€DELETEç”¨ã®å°‚ç”¨é–¢æ•°æä¾›
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š**: ä¸€èˆ¬çš„ãªè¨­å®šå€¤ã®è‡ªå‹•é©ç”¨
- **Transformçµ±åˆ**: é©åˆ‡ãªTransformé–¢æ•°ã®è‡ªå‹•é¸æŠ
- **Idempotency Key**: POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã®é‡è¤‡é˜²æ­¢ã‚­ãƒ¼è‡ªå‹•ç”Ÿæˆ
- **JSONç‰¹åŒ–**: JSON APIã«æœ€é©åŒ–ã•ã‚ŒãŸå°‚ç”¨é–¢æ•°

**æä¾›é–¢æ•°ä¸€è¦§**:
- `httpGet()`: ã‚·ãƒ³ãƒ—ãƒ«ãªGETãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- `httpPost()`: ãƒã‚¤ãƒŠãƒªãƒœãƒ‡ã‚£å¯¾å¿œPOSTãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- `httpPostJson()`: JSONç‰¹åŒ–POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- `httpPut()`: ãƒªã‚½ãƒ¼ã‚¹æ›´æ–°ç”¨PUTãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- `httpDelete()`: ãƒªã‚½ãƒ¼ã‚¹å‰Šé™¤ç”¨DELETEãƒªã‚¯ã‚¨ã‚¹ãƒˆ

### 6.2 ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†ä¾¿åˆ©é–¢æ•°

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†é–¢æ•°ã®æ©Ÿèƒ½åˆ†é¡**:
- **ãƒ‡ãƒ¼ã‚¿æŠ½å‡º**: `getTextBody()`, `getBodySize()`, `getHeader()`
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª**: `isSuccess()`, `getStatusCode()`
- **å‹å®‰å…¨å‡¦ç†**: `expectJsonResponse()`, `isJsonResponse()`
- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿**: `getContentLength()`, `hasHeader()`

**ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³**:
1. **åŸºæœ¬ç¢ºèª**: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã¨ãƒœãƒ‡ã‚£ã‚µã‚¤ã‚ºã®æ¤œè¨¼
2. **ãƒ˜ãƒƒãƒ€ãƒ¼åˆ†æ**: Content-Typeã€Cache-Controlç­‰ã®å–å¾—
3. **JSONå‡¦ç†**: JSONå½¢å¼ã®ç¢ºèªã¨å®‰å…¨ãªæŠ½å‡º
4. **ã‚¨ãƒ©ãƒ¼æ¤œå‡º**: å¤±æ•—ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®é©åˆ‡ãªå‡¦ç†

## 7. ä½¿ç”¨ä¾‹

### 7.1 åŸºæœ¬çš„ãªGETãƒªã‚¯ã‚¨ã‚¹ãƒˆ

**GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³**:
1. **Management Canisterã‚¤ãƒ³ãƒãƒ¼ãƒˆ**: HTTP Outcallæ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–
2. **éåŒæœŸé–¢æ•°å®šç¾©**: `{.async.}`ãƒ—ãƒ©ã‚°ãƒã«ã‚ˆã‚‹éåŒæœŸå‡¦ç†
3. **httpGetå‘¼ã³å‡ºã—**: URLã€ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µã‚¤ã‚ºåˆ¶é™ã®è¨­å®š
4. **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª**: `isSuccess()`ã«ã‚ˆã‚‹æˆåŠŸåˆ¤å®š
5. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†**: `getTextBody()`ã§ã®ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º
6. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: try-exceptæ§‹æ–‡ã«ã‚ˆã‚‹ä¾‹å¤–å‡¦ç†

**æ¨å¥¨APIä½¿ç”¨ä¾‹**:
- **Coinbase Exchange API**: æš—å·é€šè²¨ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿ã®å–å¾—
- **GitHub API**: ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ†ã‚­ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹
- **HTTPBin**: HTTPæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆç”¨é€”

### 7.2 JSONã‚’ä½¿ã£ãŸPOSTãƒªã‚¯ã‚¨ã‚¹ãƒˆ

**JSON POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
1. **JSONæ§‹ç¯‰**: CandidRecordã¾ãŸã¯ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã§ã® ãƒ‡ãƒ¼ã‚¿ä½œæˆ
2. **æ–‡å­—åˆ—å¤‰æ›**: JSONã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ–‡å­—åˆ—ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³
3. **httpPostJsonå‘¼ã³å‡ºã—**: Content-Typeè‡ªå‹•è¨­å®šã€Transformçµ±åˆ
4. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ**: JSONå½¢å¼ã§ã®å¿œç­”å‡¦ç†

**æ´»ç”¨ã‚·ãƒŠãƒªã‚ª**:
- **HTTPBin**: JSON POSTæ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- **REST API**: ãƒ‡ãƒ¼ã‚¿æŠ•ç¨¿ã€è¨­å®šæ›´æ–°
- **Webhook**: å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¸ã®é€šçŸ¥é€ä¿¡

### 7.3 ã‚«ã‚¹ã‚¿ãƒ Transformé–¢æ•°ã¨ICã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹çµ±åˆ

**Transformé–¢æ•°ã®çµ±åˆãƒ—ãƒ­ã‚»ã‚¹**:
1. **Queryé–¢æ•°å®Ÿè£…**: ICã‚·ã‚¹ãƒ†ãƒ APIã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ç‰¹åˆ¥ãªé–¢æ•°
2. **å¯å¤‰è¦ç´ ç‰¹å®š**: APIå›ºæœ‰ã®ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ãƒœãƒ‡ã‚£å†…å¯å¤‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åˆ†æ
3. **æ­£è¦åŒ–ãƒ­ã‚¸ãƒƒã‚¯**: æ±ºå®šè«–çš„ãªå¤‰æ›ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è¨­è¨ˆ
4. **ICã‚·ã‚¹ãƒ†ãƒ ç™»éŒ²**: Transformé–¢æ•°ã®IC Management Canisterã¸ã®ç™»éŒ²
5. **ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼**: è¤‡æ•°å›å‘¼ã³å‡ºã—ã§ã®ä¸€è‡´ç¢ºèª

**APIåˆ¥Transformæˆ¦ç•¥**:
- **Coinbase API**: ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã€Cloudflareãƒ˜ãƒƒãƒ€ãƒ¼ã®é™¤å»
- **GitHub API**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆIDã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥é–¢é€£ãƒ˜ãƒƒãƒ€ãƒ¼ã®æ­£è¦åŒ–
- **HTTPBin**: ãƒ‡ãƒãƒƒã‚°ç”¨é€”ã®å®Œå…¨ãƒ˜ãƒƒãƒ€ãƒ¼ä¿æŒ

#### 7.3.1 Transformé–¢æ•°ã¨ICã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã®è©³ç´°

**ICã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹æ©Ÿæ§‹ã¨ã®çµ±åˆ**ï¼ˆå‚è€ƒ: [IC HTTPS Outcallsä»•æ§˜](https://internetcomputer.org/docs/references/https-outcalls-how-it-works)ï¼‰ï¼š

1. **Step 6**: Transformé–¢æ•°ãŒå„ãƒ¬ãƒ—ãƒªã‚«ã§å®Ÿè¡Œã•ã‚Œã‚‹
2. **Step 7**: å¤‰æ›ã•ã‚ŒãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã«é€ä¿¡ã•ã‚Œã‚‹  
3. **Step 8**: 2/3ä»¥ä¸Šã®ãƒ¬ãƒ—ãƒªã‚«ã§åŒä¸€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å ´åˆã€åˆæ„æˆç«‹

**é‡è¦ãªè¨­è¨ˆåŸå‰‡**:
- Transformé–¢æ•°ã¯**æ±ºå®šè«–çš„**ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„
- åŒã˜å…¥åŠ›ã«å¯¾ã—ã¦å¸¸ã«åŒã˜å‡ºåŠ›ã‚’è¿”ã™å¿…è¦ãŒã‚ã‚‹
- ãƒ¬ãƒ—ãƒªã‚«é–“ã§ã®å‡¦ç†æ™‚é–“å·®ã‚’è€ƒæ…®ã—ãŸè¨­è¨ˆãŒå¿…è¦

**Nimå®Ÿè£…ã§ã®è€ƒæ…®äº‹é …**:
- Transformé–¢æ•°ã®ICã‚·ã‚¹ãƒ†ãƒ APIçµ±åˆã«ã‚ˆã‚‹è‡ªå‹•ç™»éŒ²
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–æ™‚ã®ä¸€æ‹¬Transformé–¢æ•°ç™»éŒ²
- APIåˆ¥å°‚ç”¨Transformé–¢æ•°ã®åˆ†é›¢ç®¡ç†

## 8. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ä»•æ§˜

### 8.1 ã‚¨ãƒ©ãƒ¼åˆ†é¡

**ã‚¨ãƒ©ãƒ¼åˆ†é¡ã®å®Ÿè£…æˆ¦ç•¥**:
1. **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è§£æ**: ä¾‹å¤–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚‹è‡ªå‹•åˆ†é¡
2. **ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥åˆ¤å®š**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã€ã‚µã‚¤ã‚¯ãƒ«ä¸è¶³ç­‰ã®åˆ¤åˆ¥
3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**: æŠ€è¡“è©³ç´°ã‚’éš ã—ãŸåˆ†ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼èª¬æ˜
4. **å¾©æ—§ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹**: ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ã«å¿œã˜ãŸè§£æ±ºç­–ã®æç¤º

**ã‚¨ãƒ©ãƒ¼å¯¾å¿œãƒ•ãƒ­ãƒ¼**:
- **NetworkError** â†’ IPv6å¯¾å¿œã€DNSè¨­å®šã®ç¢ºèª
- **TimeoutError** â†’ Transformé–¢æ•°ã®æœ€é©åŒ–
- **ConsensusError** â†’ Transformé–¢æ•°ã®è¦‹ç›´ã—
- **CyclesError** â†’ ã‚µã‚¤ã‚¯ãƒ«æ®‹é«˜ã®è£œå……

### 8.2 ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹

**ãƒªãƒˆãƒ©ã‚¤æˆ¦ç•¥ã®è¨­è¨ˆè¦ç´ **:
1. **ãƒªãƒˆãƒ©ã‚¤å¯èƒ½ã‚¨ãƒ©ãƒ¼åˆ¤å®š**: NetworkErrorã€TimeoutErrorã¯å†è©¦è¡Œå¯¾è±¡
2. **æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•**: å†è©¦è¡Œé–“éš”ã‚’æ®µéšçš„ã«å»¶é•·ï¼ˆ1ç§’â†’2ç§’â†’3ç§’ï¼‰
3. **æœ€å¤§è©¦è¡Œå›æ•°åˆ¶é™**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ3å›ã§éè² è·é˜²æ­¢
4. **å³æ™‚å¤±æ•—ã‚¨ãƒ©ãƒ¼**: ConsensusErrorã€CyclesErrorã¯å³åº§ã«å¤±æ•—
5. **æœ€çµ‚ã‚¨ãƒ©ãƒ¼ä¿æŒ**: æœ€å¾Œã®è©¦è¡Œã®ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«ä¼æ’­

**ãƒªãƒˆãƒ©ã‚¤é©ç”¨ã‚·ãƒŠãƒªã‚ª**:
- ä¸€æ™‚çš„ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯éšœå®³
- ã‚µãƒ¼ãƒãƒ¼å´ã®ç¬é–“çš„ãªé«˜è² è·
- Transformé–¢æ•°ã®ä¸€æ™‚çš„ãªã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ

## 9. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»èª²é‡‘è€ƒæ…®äº‹é …

### 9.1 ã‚µã‚¤ã‚¯ãƒ«é€ä¿¡æ–¹æ³•ã®è¨€èªåˆ¥æ¯”è¼ƒ

HTTP Outcallã«ã‚µã‚¤ã‚¯ãƒ«ã‚’é€ä¿¡ã™ã‚‹æ–¹æ³•ã¯è¨€èªã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ï¼š

#### 9.1.1 Motoko
**æ˜ç¤ºçš„ã‚µã‚¤ã‚¯ãƒ«è¿½åŠ æ–¹å¼**:
- `Cycles.add()` ã«ã‚ˆã‚‹ã‚µã‚¤ã‚¯ãƒ«äº‹å‰è¿½åŠ 
- `with cycles` æ§‹æ–‡ã§ã®çµ±åˆçš„ãªé€ä¿¡
- é–‹ç™ºè€…ã«ã‚ˆã‚‹æ˜ç¤ºçš„ãªã‚µã‚¤ã‚¯ãƒ«ç®¡ç†

#### 9.1.2 Rust  
**è‡ªå‹•ã‚µã‚¤ã‚¯ãƒ«é€ä¿¡æ–¹å¼**:
- `ic_cdk` ã«ã‚ˆã‚‹é€æ˜ãªã‚µã‚¤ã‚¯ãƒ«è¨ˆç®—ãƒ»é€ä¿¡
- é–‹ç™ºè€…ã®æ„è­˜ä¸è¦ãªè‡ªå‹•åŒ–
- ICå…¬å¼æ¨å¥¨ã®ç°¡ç•¥åŒ–ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

#### 9.1.3 Nimã§ã®å®Ÿè£…æ–¹é‡

**Nimå®Ÿè£…ã§ã®Rustæ–¹å¼æ¡ç”¨**:
- è‡ªå‹•ã‚µã‚¤ã‚¯ãƒ«è¨ˆç®—ãƒ»é€ä¿¡ã«ã‚ˆã‚‹é–‹ç™ºè€…è² æ‹…è»½æ¸›
- IC System APIã‚’ä½¿ç”¨ã—ãŸæ­£ç¢ºãªã‚³ã‚¹ãƒˆè¨ˆç®—
- 128bitå€¤å‡¦ç†ã«ã‚ˆã‚‹å¤§å®¹é‡ã‚µã‚¤ã‚¯ãƒ«å¯¾å¿œ
- 20%å®‰å…¨ãƒãƒ¼ã‚¸ãƒ³ã«ã‚ˆã‚‹å®Ÿè¡Œå¤±æ•—é˜²æ­¢

**ãƒ¡ãƒªãƒƒãƒˆ**:
- é–‹ç™ºè€…ãŒã‚µã‚¤ã‚¯ãƒ«è¨ˆç®—ã‚’æ„è­˜ã™ã‚‹å¿…è¦ãŒãªã„
- Rustã¨ã®ä¸€è²«æ€§ã®ã‚ã‚‹APIè¨­è¨ˆ
- ãƒ’ãƒ¥ãƒ¼ãƒãƒ³ã‚¨ãƒ©ãƒ¼ã®å‰Šæ¸›

### 9.2 è‡ªå‹•ã‚µã‚¤ã‚¯ãƒ«è¨ˆç®—ã®å®Ÿè£…

**IC System APIæ´»ç”¨ã«ã‚ˆã‚‹ã‚µã‚¤ã‚¯ãƒ«è¨ˆç®—**:
1. **ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚µã‚¤ã‚ºç®—å‡º**: URLã€ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒœãƒ‡ã‚£ã€ãƒ¡ã‚½ãƒƒãƒ‰åã®ã‚µã‚¤ã‚ºåˆè¨ˆ
2. **Transformé–¢æ•°ã‚µã‚¤ã‚º**: æ¦‚ç®—100ãƒã‚¤ãƒˆã§ã®è¿½åŠ è¨ˆç®—
3. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µã‚¤ã‚º**: max_response_bytesè¨­å®šå€¤ã¾ãŸã¯2MBãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
4. **ICå…¬å¼APIå‘¼ã³å‡ºã—**: `ic0_cost_http_request`ã§ã®æ­£ç¢ºãªã‚³ã‚¹ãƒˆå–å¾—
5. **å®‰å…¨ãƒãƒ¼ã‚¸ãƒ³**: 20%ã®è¿½åŠ ã§ã‚µã‚¤ã‚¯ãƒ«ä¸è¶³å›é¿

**IC System APIã®åˆ©ç‚¹**:
- ICãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å…¬å¼ã‚³ã‚¹ãƒˆè¨ˆç®—å¼ã‚’ä½¿ç”¨
- ICæ–™é‡‘ä½“ç³»å¤‰æ›´ã¸ã®è‡ªå‹•å¯¾å¿œ
- ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ¬ãƒ™ãƒ«ã§ã®è¨ˆç®—ä¿è¨¼

### 9.3 æœ€é©åŒ–æ¨å¥¨äº‹é …

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®æŒ‡é‡**:
- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚µã‚¤ã‚ºåˆ¶é™**: æ¨å¥¨64KBã€æœ€å¤§2MB
- **URLé•·åˆ¶é™**: æ¨å¥¨2048æ–‡å­—ã€æœ€å¤§8192æ–‡å­—
- **ãƒ—ãƒ­ãƒˆã‚³ãƒ«åˆ¶é™**: HTTPSå¿…é ˆã€HTTPã¯éå¯¾å¿œ
- **ãƒ˜ãƒƒãƒ€ãƒ¼æœ€å°åŒ–**: å¿…è¦æœ€å°é™ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã¿é€ä¿¡

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ¤œè¨¼é …ç›®**:
1. URLå½¢å¼ã¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ç¢ºèª
2. ã‚µã‚¤ã‚ºåˆ¶é™ã®äº‹å‰ãƒã‚§ãƒƒã‚¯
3. å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å­˜åœ¨ç¢ºèª
4. Transformé–¢æ•°ã®é©åˆ‡æ€§æ¤œè¨¼

## 10. ãƒ†ã‚¹ãƒˆä»•æ§˜

### 10.1 å˜ä½“ãƒ†ã‚¹ãƒˆ

**ãƒ†ã‚¹ãƒˆå®Ÿè£…ã®é‡ç‚¹é …ç›®**:
1. **å‹å¤‰æ›ãƒ†ã‚¹ãƒˆ**: HttpRequest â†” CandidRecord ã®åŒæ–¹å‘å¤‰æ›ç¢ºèª
2. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ**: Candidãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰ã®æ­£ç¢ºãªHttpResponseæ§‹ç¯‰
3. **ã‚¨ãƒ©ãƒ¼åˆ†é¡**: ä¾‹å¤–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰ã®é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ç¨®åˆ¥åˆ¤å®š
4. **Transformé–¢æ•°**: ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‹•ä½œã®ç¢ºèª
5. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: ä¸æ­£ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é©åˆ‡ãªæ¤œå‡º

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ**:
- æ­£å¸¸ç³»ï¼šå„HTTPãƒ¡ã‚½ãƒƒãƒ‰ã§ã®æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³
- ç•°å¸¸ç³»ï¼šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã€ã‚µã‚¤ã‚¯ãƒ«ä¸è¶³ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
- å¢ƒç•Œå€¤ï¼šæœ€å¤§ã‚µã‚¤ã‚ºã€æœ€å°ã‚µã‚¤ã‚ºã§ã®å‹•ä½œç¢ºèª

### 10.2 çµ±åˆãƒ†ã‚¹ãƒˆ

**çµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿæ–½æ–¹é‡**:
1. **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¬ãƒ—ãƒªã‚«ç’°å¢ƒ**: dfxç’°å¢ƒã§ã®HTTP Outcallæ©Ÿèƒ½æ¤œè¨¼
2. **å¤–éƒ¨APIé€£æº**: å®Ÿéš›ã®HTTPS APIã§ã®å‹•ä½œç¢ºèª
3. **Transformé–¢æ•°**: è¤‡æ•°ãƒ¬ãƒ—ãƒªã‚«ã§ã®ä¸€è‡´æ€§æ¤œè¨¼
4. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: å„ç¨®ã‚¨ãƒ©ãƒ¼ã‚·ãƒŠãƒªã‚ªã§ã®é©åˆ‡ãªå‡¦ç†ç¢ºèª

**ãƒ†ã‚¹ãƒˆå¯¾è±¡API**:
- HTTPBin: GET/POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã®åŸºæœ¬æ©Ÿèƒ½ç¢ºèª
- Coinbase: å®Ÿéš›ã®JSON APIã§ã®å‹•ä½œæ¤œè¨¼
- GitHub: ãƒ†ã‚­ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å‡¦ç†ç¢ºèª

**æ¤œè¨¼é …ç›®**:
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹å†…å®¹ã®æ­£ç¢ºæ€§
- Transformé–¢æ•°ã®æ­£è¦åŒ–å‹•ä½œ
- ã‚¨ãƒ©ãƒ¼çŠ¶æ³ã§ã®é©åˆ‡ãªä¾‹å¤–å‡¦ç†

## 11. å®Ÿè£…è¨ˆç”»

### 11.1 Phase 1: åŸºç›¤å®Ÿè£…
- [ ] HTTPå‹å®šç¾©ã®æ‹¡å¼µ (management_canister.nim)
- [ ] CandidRecordçµ±åˆã®å®Œæˆ
- [ ] åŸºæœ¬çš„ãªhttpRequesté–¢æ•°ã®å®Ÿè£…
- [ ] ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã®æ”¹å–„

### 11.2 Phase 2: Transformæ©Ÿèƒ½
- [ ] Transformé–¢æ•°ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…
- [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆTransformé–¢æ•°ã®æä¾›
- [ ] JSONå°‚ç”¨Transformé–¢æ•°ã®å®Ÿè£…
- [ ] Transformé–¢æ•°ã®ãƒ†ã‚¹ãƒˆ

### 11.3 Phase 3: ä¾¿åˆ©é–¢æ•°ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] HTTPãƒ¡ã‚½ãƒƒãƒ‰åˆ¥ä¾¿åˆ©é–¢æ•°ã®å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼åˆ†é¡ã¨ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…
- [ ] ãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹ã®å®Ÿè£…
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†ä¾¿åˆ©é–¢æ•°ã®å®Ÿè£…

### 11.4 Phase 4: æœ€é©åŒ–ã¨ãƒ†ã‚¹ãƒˆ
- [ ] ã‚µã‚¤ã‚¯ãƒ«è¨ˆç®—æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- [ ] åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã®ä½œæˆ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Œæˆ

### 11.5 Phase 5: é«˜åº¦ãªæ©Ÿèƒ½
- [ ] WebSocketé¢¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡ã®å®Ÿè£…æ¤œè¨
- [ ] ãƒãƒ«ãƒãƒ‘ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã®ã‚µãƒãƒ¼ãƒˆ
- [ ] èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã®å®Ÿè£…
- [ ] èª²é‡‘æœ€é©åŒ–ãƒ„ãƒ¼ãƒ«ã®æä¾›

## 12. Transformé–¢æ•°å®Ÿè£…ã®é‡è¦ãªæŠ€è¡“çš„è€ƒæ…®äº‹é …

### 12.1 Transformé–¢æ•°ã®åˆ¶ç´„ã¨åˆ¶é™äº‹é …

#### 12.1.1 æŠ€è¡“çš„åˆ¶ç´„ï¼ˆå‚è€ƒ: [IC HTTPS Outcallsä»•æ§˜](https://internetcomputer.org/docs/references/https-outcalls-how-it-works)ï¼‰

**æ±ºå®šè«–çš„å®Ÿè¡Œã®è¦ä»¶**:
- **å…¥åŠ›ä¸€è‡´**: åŒã˜HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å¯¾ã—ã¦å¸¸ã«åŒã˜å¤‰æ›çµæœ
- **å‰¯ä½œç”¨ç¦æ­¢**: ãƒ•ã‚¡ã‚¤ãƒ«I/Oã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é€šä¿¡ã€ä¹±æ•°ç”Ÿæˆã®ç¦æ­¢
- **æ™‚é–“ä¾å­˜ç¦æ­¢**: ã‚·ã‚¹ãƒ†ãƒ æ™‚åˆ»ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã®ä½¿ç”¨ç¦æ­¢

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ¶ç´„**:
- **å®Ÿè¡Œæ™‚é–“åˆ¶é™**: Transformé–¢æ•°ã¯è»½é‡ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨åˆ¶é™**: å¤§å®¹é‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§ã®åŠ¹ç‡çš„å‡¦ç†ãŒå¿…è¦
- **CPUä½¿ç”¨åˆ¶é™**: ã‚³ãƒ³ã‚»ãƒ³ã‚µã‚¹ã®é…å»¶ã‚’é¿ã‘ã‚‹ãŸã‚æœ€å°é™ã®å‡¦ç†

#### 12.1.2 ã‚ˆãã‚ã‚‹å®Ÿè£…ãƒŸã‚¹ã¨å¯¾ç­–

```nim
# âŒ é–“é•ã£ãŸå®Ÿè£…ä¾‹
proc badTransform(response: HttpResponse): HttpResponse =
  # NGãƒ‘ã‚¿ãƒ¼ãƒ³1: æ™‚é–“ä¾å­˜å‡¦ç†
  let currentTime = epochTime()  # å®Ÿè¡Œæ™‚åˆ»ã§ãƒ¬ãƒ—ãƒªã‚«é–“å·®åˆ†ç™ºç”Ÿ
  
  # NGãƒ‘ã‚¿ãƒ¼ãƒ³2: ä¹±æ•°ä½¿ç”¨
  let randomId = rand(1000)  # ãƒ¬ãƒ—ãƒªã‚«é–“ã§ç•°ãªã‚‹å€¤
  
  # NGãƒ‘ã‚¿ãƒ¼ãƒ³3: ä¸å®Œå…¨ãªæ­£è¦åŒ–
  # ä¸€éƒ¨ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã¿é™¤å»ï¼ˆä»–ã«ã‚‚å¯å¤‰ãƒ˜ãƒƒãƒ€ãƒ¼ãŒå­˜åœ¨ã™ã‚‹å¯èƒ½æ€§ï¼‰
  
# âœ… æ­£ã—ã„å®Ÿè£…ä¾‹
proc goodTransform(response: HttpResponse): HttpResponse =
  # å®Œå…¨ãªå¯å¤‰ãƒ˜ãƒƒãƒ€ãƒ¼é™¤å»
  var filteredHeaders: seq[HttpHeader] = @[]
  for header in response.headers:
    if not isVariableHeader(header.name):  # ç¶²ç¾…çš„ãªãƒã‚§ãƒƒã‚¯
      filteredHeaders.add(header)
  
  # æ±ºå®šè«–çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹æœ¬ä½“æ­£è¦åŒ–
  var normalizedBody = response.body
  if response.status == 200:
    normalizedBody = normalizeJsonTimestamps(response.body)
  
  HttpResponse(
    status: response.status,
    headers: filteredHeaders,
    body: normalizedBody
  )
```

#### 12.1.3 APIåˆ¥Transformæˆ¦ç•¥

**é‡‘èAPIï¼ˆCoinbaseã€Binanceç­‰ï¼‰**:
```nim
proc financialApiTransform(response: HttpResponse): HttpResponse =
  # ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿ã®æ™‚åˆ»ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ­£è¦åŒ–
  # ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ˜ãƒƒãƒ€ãƒ¼ã®é™¤å»
  # ã‚µãƒ¼ãƒãƒ¼IDãƒ˜ãƒƒãƒ€ãƒ¼ã®é™¤å»
```

**ãƒ‹ãƒ¥ãƒ¼ã‚¹APIï¼ˆRSSã€JSON Feedç­‰ï¼‰**:
```nim
proc newsApiTransform(response: HttpResponse): HttpResponse =
  # å–å¾—æ™‚åˆ»ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ­£è¦åŒ–
  # è¨˜äº‹IDã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆIDã®æ­£è¦åŒ–
  # ã‚­ãƒ£ãƒƒã‚·ãƒ¥é–¢é€£ãƒ˜ãƒƒãƒ€ãƒ¼ã®é™¤å»
```

**å¤©æ°—APIï¼ˆOpenWeatherMapç­‰ï¼‰**:
```nim
proc weatherApiTransform(response: HttpResponse): HttpResponse =
  # è¦³æ¸¬æ™‚åˆ»ã®ç‰¹å®šæ™‚åˆ»ã¸ã®ä¸¸ã‚
  # ãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚åˆ»ã®æ­£è¦åŒ–
  # APIå‘¼ã³å‡ºã—å›æ•°ãƒ˜ãƒƒãƒ€ãƒ¼ã®é™¤å»
```

### 12.2 Transformé–¢æ•°ã®ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒãƒƒã‚°æ‰‹æ³•

#### 12.2.1 æ®µéšçš„é–‹ç™ºæ‰‹æ³•

**Step 1: ãƒ¬ã‚¹ãƒãƒ³ã‚¹åˆ†æ**
```bash
# åŒä¸€APIã‚’è¤‡æ•°å›å‘¼ã³å‡ºã—ã¦å·®åˆ†ç¢ºèª
for i in {1..5}; do
  curl -v "https://api.example.com/data" > "response_$i.json" 2>&1
  sleep 2
done

# å·®åˆ†ç¢ºèª
diff response_1.json response_2.json
```

**Step 2: Transformé–¢æ•°ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—**
```nim
# æœ€å°é™ã®Transformé–¢æ•°å®Ÿè£…
proc prototypeTransform(response: HttpResponse): HttpResponse =
  # æœ€ã‚‚æ˜ã‚‰ã‹ãªå¯å¤‰ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã¿é™¤å»
  var filtered = response.headers.filterIt(
    it.name.toLowerAscii notin ["date", "server"]
  )
  HttpResponse(status: response.status, headers: filtered, body: response.body)
```

**Step 3: æ®µéšçš„æ©Ÿèƒ½æ‹¡å¼µ**
```nim
# å®Œå…¨ç‰ˆTransformé–¢æ•°
proc productionTransform(response: HttpResponse): HttpResponse =
  # ãƒ˜ãƒƒãƒ€ãƒ¼æ­£è¦åŒ– + ãƒœãƒ‡ã‚£æ­£è¦åŒ– + ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
```

#### 12.2.2 è‡ªå‹•ãƒ†ã‚¹ãƒˆã¨ç¶™ç¶šçš„æ¤œè¨¼

```nim
proc validateTransformFunction*(apiUrl: string, iterations: int = 10): Future[bool] {.async.} =
  ## Transformé–¢æ•°ã®ä¸€è²«æ€§ã‚’è‡ªå‹•æ¤œè¨¼
  var responses: seq[HttpResponse] = @[]
  
  # è¤‡æ•°å›APIå‘¼ã³å‡ºã—
  for i in 0..<iterations:
    let response = await basicHttpGet(apiUrl)
    responses.add(response)
    await sleepAsync(1000)  # 1ç§’é–“éš”
  
  # Transformé©ç”¨å¾Œã®ä¸€è‡´ç¢ºèª
  let transformedResponses = responses.mapIt(myTransform(it))
  let baseResponse = transformedResponses[0]
  
  for response in transformedResponses[1..^1]:
    if response != baseResponse:
      echo "Transform consistency failed!"
      return false
  
  return true
```

## 13. é–¢é€£è³‡æ–™

### 13.1 ICPå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [HTTPS Outcallsä»•æ§˜](https://internetcomputer.org/docs/references/https-outcalls-how-it-works)
- [HTTPS Outcalls POSTå®Ÿè£…](https://internetcomputer.org/docs/building-apps/network-features/using-http/https-outcalls/post)
- [HTTPS Outcallsé–‹ç™ºã‚¬ã‚¤ãƒ‰](https://internetcomputer.org/docs/tutorials/developer-liftoff/level-3/3.2-https-outcalls)
- [Management Canister Interface](https://internetcomputer.org/docs/current/references/ic-interface-spec/#ic-management-canister)
- [HTTP Outcallsæ–™é‡‘ä½“ç³»](https://internetcomputer.org/docs/current/developer-docs/gas-cost)
- [IC System APIä»•æ§˜ï¼ˆã‚µã‚¤ã‚¯ãƒ«é–¢é€£ï¼‰](https://internetcomputer.org/docs/current/references/ic-interface-spec/#system-api-cycles)
- [IC HTTP Outcall ã‚³ã‚¹ãƒˆè¨ˆç®—API](https://internetcomputer.org/docs/current/references/ic-interface-spec/#system-api-costs)

### 12.2 å®Ÿè£…ä¾‹

#### DFINITYã‚µãƒ³ãƒ—ãƒ«å®Ÿè£…
- [Rust HTTP Outcallå®Ÿè£…](https://github.com/dfinity/examples/tree/master/rust/http_outcall)
- [Motoko HTTP Outcallå®Ÿè£…](https://github.com/dfinity/examples/tree/master/motoko/http_outcall)
- [Motoko HTTP GETå®Ÿè£…](https://github.com/dfinity/examples/tree/master/motoko/send_http_get)
- [Motoko HTTP POSTå®Ÿè£…](https://github.com/dfinity/examples/tree/master/motoko/send_http_post)

#### ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å®Ÿè£…ä¾‹
- [Motoko Outcalls Proxy](https://github.com/krpeacock/motoko-outcalls-proxy) - Kyle Peacock
- [Web I/O Library](https://github.com/NatLabs/web-io) - NatLabsé«˜ãƒ¬ãƒ™ãƒ«API

#### å‚è€ƒãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«
- [HTTPS Outcalls Tutorial (ICP Docs)](https://internetcomputer.org/docs/tutorials/developer-liftoff/level-3/3.2-https-outcalls)
- [HTTPS Outcalls: POST Guide](https://internetcomputer.org/docs/building-apps/network-features/using-http/https-outcalls/post)

### 12.3 è¨­è¨ˆåŸå‰‡
- nicp_cdkæ—¢å­˜è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®è¸è¥²
- CandidRecordå‹ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ
- Future[T]ãƒ™ãƒ¼ã‚¹éåŒæœŸå‡¦ç†ã®ç¶™ç¶š
- IC System APIã¨ã®ä¸€è²«ã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

## 13. å®Ÿè£…çµŒé¨“ã¨å­¦ã‚“ã ã“ã¨

### 13.1 å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚ºã¨æˆæœ

#### 13.1.1 Phase 1: åŸºæœ¬å®Ÿè£…å®Œäº†

**å®Ÿè£…é …ç›®**:
- âœ… **HTTPå‹å®šç¾©**: `HttpRequest`, `HttpResponse`, `HttpMethod`ç­‰ã®å®Œå…¨å®Ÿè£…
- âœ… **CandidRecordçµ±åˆ**: `%`æ¼”ç®—å­ã«ã‚ˆã‚‹`HttpRequest`â†’`CandidRecord`å¤‰æ›
- âœ… **Management Canisteré€šä¿¡**: ic0ã‚·ã‚¹ãƒ†ãƒ APIã¨ã®çµ±åˆ
- âœ… **ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†**: æˆåŠŸãƒ»å¤±æ•—æ™‚ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°å®Ÿè£…

**æŠ€è¡“æˆæœ**:
åŸºæœ¬å®Ÿè£…ã®ãƒ­ã‚¸ãƒƒã‚¯ãƒ•ãƒ­ãƒ¼:
1. **HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆæ§‹ç¯‰**: URLã€ãƒ¡ã‚½ãƒƒãƒ‰ã€ãƒ˜ãƒƒãƒ€ãƒ¼ã€ãƒœãƒ‡ã‚£ã®è¨­å®š
2. **CandidRecordå¤‰æ›**: Nimå‹â†’Candidå½¢å¼ã®è‡ªå‹•å¤‰æ›
3. **Management Canisterå‘¼ã³å‡ºã—**: ic0ã‚·ã‚¹ãƒ†ãƒ APIçµŒç”±ã§ã®é€ä¿¡
4. **ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†**: æˆåŠŸãƒ»å¤±æ•—æ™‚ã®é©åˆ‡ãªå¿œç­”å‡¦ç†
5. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹å¤‰æ›**: Candidâ†’Nimå‹ã¸ã®é€†å¤‰æ›

#### 13.1.2 Phase 2: Transformæ©Ÿèƒ½å®Ÿè£…

**Transformé–¢æ•°ã®å®Ÿè£…æˆæœ**:
- âœ… **`createDefaultTransform()`**: å¯å¤‰ãƒ˜ãƒƒãƒ€ãƒ¼ã®é™¤å»æ©Ÿèƒ½
- âœ… **`createJsonTransform()`**: JSONç‰¹åŒ–ã®æ­£è¦åŒ–æ©Ÿèƒ½
- âœ… **ãƒ†ã‚¹ãƒˆç¢ºèª**: 4ã¤ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‹ã‚‰1ã¤ã¸ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‹•ä½œç¢ºèª

**Transformé–¢æ•°ã®ãƒ­ã‚¸ãƒƒã‚¯**:
1. **ãƒ˜ãƒƒãƒ€ãƒ¼åˆ†æ**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã®å¯å¤‰æ€§è©•ä¾¡
2. **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: å¯å¤‰ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆdate, server, x-request-idç­‰ï¼‰ã®é™¤å»
3. **æ­£è¦åŒ–**: æ®‹ã‚Šãƒ˜ãƒƒãƒ€ãƒ¼ã®ä¸€è²«æ€§ç¢ºä¿
4. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹å†æ§‹ç¯‰**: æ­£è¦åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã§ã®æ–°ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç”Ÿæˆ
5. **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ**: Transformå®Ÿè¡Œæ™‚ã®çŠ¶æ…‹æƒ…å ±ç®¡ç†

**Transformé–¢æ•°ãƒ†ã‚¹ãƒˆçµæœ**:
- **å…ƒãƒ˜ãƒƒãƒ€ãƒ¼æ•°**: 4å€‹ï¼ˆContent-Type, Date, Server, X-Request-IDï¼‰
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¾Œ**: 1å€‹ï¼ˆContent-Type ã®ã¿ï¼‰
- **é™¤å»ã•ã‚ŒãŸãƒ˜ãƒƒãƒ€ãƒ¼**: Date, Server, X-Request-IDï¼ˆå¯å¤‰è¦ç´ ï¼‰
- **ãƒ†ã‚¹ãƒˆè©•ä¾¡**: âœ… æœŸå¾…é€šã‚Šã®æ­£è¦åŒ–å‹•ä½œã‚’ç¢ºèª

#### 13.1.3 Phase 3: ä¾¿åˆ©é–¢æ•°å®Ÿè£…

**HTTPãƒ¡ã‚½ãƒƒãƒ‰åˆ¥é–¢æ•°**:
- âœ… **`httpGet()`**, **`httpPost()`**, **`httpPut()`**, **`httpDelete()`**
- âœ… **`httpPostJson()`**: JSONå°‚ç”¨POSTé–¢æ•°
- âœ… **ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†é–¢æ•°**: `isSuccess()`, `getTextBody()`, `getHeader()`

**ä¾¿åˆ©é–¢æ•°ã®è¨­è¨ˆæ€æƒ³**:
1. **HTTPãƒ¡ã‚½ãƒƒãƒ‰åˆ¥ç‰¹åŒ–**: GET, POST, PUT, DELETEç”¨ã®å°‚ç”¨é–¢æ•°
2. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤æä¾›**: ä¸€èˆ¬çš„ãªè¨­å®šã‚’è‡ªå‹•é©ç”¨
3. **Transformè‡ªå‹•çµ±åˆ**: é©åˆ‡ãªTransformé–¢æ•°ã®è‡ªå‹•é¸æŠ
4. **å‹å®‰å…¨æ€§**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®å‹ãƒã‚§ãƒƒã‚¯ã¨ã‚¨ãƒ©ãƒ¼é˜²æ­¢
5. **ãƒã‚§ãƒ¼ãƒ³å¯èƒ½ãªè¨­è¨ˆ**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†é–¢æ•°ã¨ã®çµ„ã¿åˆã‚ã›å¯¾å¿œ

### 13.2 æŠ€è¡“çš„èª²é¡Œã¨è§£æ±ºç­–

#### 13.2.1 IC0406ã‚¨ãƒ©ãƒ¼ã®åˆ†æ

**å•é¡Œ**: HTTP Outcallå®Ÿè¡Œæ™‚ã«`IC0406`ï¼ˆç„¡åŠ¹ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰ã‚¨ãƒ©ãƒ¼ãŒç¶™ç¶šçš„ã«ç™ºç”Ÿ

**èª¿æŸ»çµæœ**:
ç”Ÿæˆã•ã‚Œã‚‹CandidRecordã«ä»¥ä¸‹ã®å•é¡Œã‚’ç™ºè¦‹:
- **Optionalå‹ã®è¡¨ç¾**: `{"some": value}`å½¢å¼ãŒICä»•æ§˜ã¨ä¸ä¸€è‡´
- **ãƒ˜ãƒƒãƒ€ãƒ¼å½¢å¼**: ç©ºé…åˆ—ã§ã¯ãªãã€ã‚¿ãƒ—ãƒ«é…åˆ—ã¨ã—ã¦è¦æ±‚ã•ã‚Œã‚‹
- **TransformæŒ‡å®š**: `{"none": null}`å½¢å¼ã®ä¸é©åˆ‡æ€§
- **ãƒ¡ã‚½ãƒƒãƒ‰è¡¨ç¾**: Variantå‹ã¨ã—ã¦é€ä¿¡ã™ã‚‹å¿…è¦æ€§

**ç‰¹å®šã•ã‚ŒãŸå•é¡Œç‚¹**:
1. **CandidRecordå½¢å¼ã®ä¸æ•´åˆ**: IC Management CanisterãŒæœŸå¾…ã™ã‚‹å½¢å¼ã¨ç›¸é•
2. **Transformé–¢æ•°ã®çµ±åˆä¸å‚™**: Queryé–¢æ•°ã¨ã—ã¦æ­£ã—ãå…¬é–‹ã•ã‚Œã¦ã„ãªã„
3. **ãƒ˜ãƒƒãƒ€ãƒ¼å½¢å¼**: ã‚¿ãƒ—ãƒ«å½¢å¼ã¨Recordå½¢å¼ã®æ··åœ¨

**æ”¹å–„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:
CandidRecordå¤‰æ›ã®ä¿®æ­£æ–¹é‡:
1. **ãƒ˜ãƒƒãƒ€ãƒ¼å½¢å¼çµ±ä¸€**: ã‚¿ãƒ—ãƒ«é…åˆ— `[(key, value), ...]` ã¸ã®å¤‰æ›
2. **Optionalå‹æ­£è¦åŒ–**: IC Management Canisterä»•æ§˜æº–æ‹ ã®å½¢å¼æ¡ç”¨
3. **ãƒ¡ã‚½ãƒƒãƒ‰è¡¨ç¾ä¿®æ­£**: æ–‡å­—åˆ—å½¢å¼ã§ã®çµ±ä¸€é€ä¿¡
4. **Transformçµ±åˆ**: none()å‹ã®é©åˆ‡ãªè¡¨ç¾
5. **å‹ã‚·ã‚¹ãƒ†ãƒ æ•´åˆ**: Nimå‹ã‚·ã‚¹ãƒ†ãƒ ã¨Candidå‹ã‚·ã‚¹ãƒ†ãƒ ã®æ©‹æ¸¡ã—

#### 13.2.2 ã‚µã‚¤ã‚¯ãƒ«é€ä¿¡ã®å®Ÿè£…

**Rustã¨ã®æ¯”è¼ƒã«ã‚ˆã‚‹è¨­è¨ˆæ±ºå®š**:
- **Rust**: è‡ªå‹•ã‚µã‚¤ã‚¯ãƒ«é€ä¿¡ï¼ˆé–‹ç™ºè€…ã®æ„è­˜ä¸è¦ï¼‰
- **Motoko**: æ˜ç¤ºçš„ã‚µã‚¤ã‚¯ãƒ«è¿½åŠ ãŒå¿…è¦
- **Nim**: Rustæ–¹å¼ã‚’æ¡ç”¨ã—ã¦è‡ªå‹•åŒ–

**å®Ÿè£…è©³ç´°**:
ã‚µã‚¤ã‚¯ãƒ«é€ä¿¡ã®ãƒ­ã‚¸ãƒƒã‚¯ãƒ•ãƒ­ãƒ¼:
1. **ã‚µã‚¤ã‚¯ãƒ«è¨ˆç®—**: HTTP Outcallã«å¿…è¦ãªã‚µã‚¤ã‚¯ãƒ«æ•°ã®è‡ªå‹•ç®—å‡º
2. **128bitåˆ†å‰²**: ic0ã‚·ã‚¹ãƒ†ãƒ APIãŒè¦æ±‚ã™ã‚‹å½¢å¼ã¸ã®å¤‰æ›
3. **è‡ªå‹•é€ä¿¡**: HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œå‰ã®é€æ˜ãªã‚µã‚¤ã‚¯ãƒ«è¿½åŠ 
4. **ã‚¨ãƒ©ãƒ¼å‡¦ç†**: ã‚µã‚¤ã‚¯ãƒ«ä¸è¶³æ™‚ã®é©åˆ‡ãªã‚¨ãƒ©ãƒ¼å ±å‘Š
5. **ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°**: ã‚µã‚¤ã‚¯ãƒ«æ¶ˆè²»é‡ã®è¿½è·¡ã¨æœ€é©åŒ–

**èª²é¡Œã¨è§£æ±º**:
- **åˆæœŸå®Ÿè£…**: 128bitåˆ†å‰²è¨ˆç®—ã«ã‚¨ãƒ©ãƒ¼
- **ä¿®æ­£å¾Œ**: Motokoã¨åŒã˜å›ºå®šå€¤ã§ã®å‹•ä½œç¢ºèª

#### 13.2.3 Queryé–¢æ•°ã®ã‚·ã‚°ãƒãƒãƒ£åˆ¶é™

**å•é¡Œ**: Transformé–¢æ•°ã‚’Queryé–¢æ•°ã¨ã—ã¦å®Ÿè£…æ™‚ã®ã‚·ã‚°ãƒãƒãƒ£ã‚¨ãƒ©ãƒ¼

ICã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã®è©³ç´°ã‚¨ãƒ©ãƒ¼:
- **æœŸå¾…ã•ã‚Œã‚‹ã‚·ã‚°ãƒãƒãƒ£**: Queryé–¢æ•°ã¯å¼•æ•°ãªã— `[]`
- **å®Ÿéš›ã®ã‚·ã‚°ãƒãƒãƒ£**: `[I32, I32]` (å¼•æ•°2å€‹)
- **æ ¹æœ¬åŸå› **: ICã®Queryé–¢æ•°ãƒ—ãƒ­ãƒˆã‚³ãƒ«åˆ¶é™

**å­¦ã‚“ã ã“ã¨**:
- ICã®Queryé–¢æ•°ã¯å¼•æ•°ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ããªã„
- Transformé–¢æ•°ã¯ç‰¹åˆ¥ãªICã‚·ã‚¹ãƒ†ãƒ APIçµŒç”±ã§å‘¼ã³å‡ºã•ã‚Œã‚‹
- é€šå¸¸ã®Queryé–¢æ•°ã¨ã¯ç•°ãªã‚‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§å‹•ä½œ

**è§£æ±ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**:
- Transformé–¢æ•°ã‚’ç‹¬ç«‹ã—ãŸå®Ÿè£…ã¨ã—ã¦åˆ†é›¢
- ICã‚·ã‚¹ãƒ†ãƒ APIçµ±åˆã¯åˆ¥ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å‡¦ç†
- Queryé–¢æ•°ã¨ã—ã¦ã®Exportã¯å‰Šé™¤

### 13.3 ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¨æ¨å¥¨äº‹é …

#### 13.3.1 é–‹ç™ºæ‰‹é †

**æ¨å¥¨é–‹ç™ºãƒ•ãƒ­ãƒ¼**:
1. **åŸºæœ¬HTTP Outcall**: Transformé–¢æ•°ãªã—ã§å‹•ä½œç¢ºèª
2. **Transformé–¢æ•°**: ç‹¬ç«‹ã—ã¦ãƒ†ã‚¹ãƒˆå®Ÿè£…
3. **ä¾¿åˆ©é–¢æ•°**: åŸºæœ¬æ©Ÿèƒ½ã®ä¸Šã«æ§‹ç¯‰
4. **çµ±åˆãƒ†ã‚¹ãƒˆ**: å…¨æ©Ÿèƒ½ã®çµ„ã¿åˆã‚ã›ãƒ†ã‚¹ãƒˆ

**ãƒ‡ãƒãƒƒã‚°æˆ¦ç•¥**:
åŠ¹æœçš„ãªãƒ‡ãƒãƒƒã‚°ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ:
1. **CandidRecordæ¤œè¨¼**: ç”Ÿæˆã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼ã®å¯è¦–åŒ–
2. **ã‚¨ãƒ©ãƒ¼åˆ†é¡**: ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—ã«ã‚ˆã‚‹é©åˆ‡ãªå¯¾å¿œç­–ã®é¸æŠ
3. **ã‚¹ã‚¿ãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹**: å•é¡Œç™ºç”Ÿç®‡æ‰€ã®æ­£ç¢ºãªç‰¹å®š
4. **æ®µéšçš„ãƒ†ã‚¹ãƒˆ**: æ©Ÿèƒ½ã‚’åˆ†å‰²ã—ãŸå€‹åˆ¥å‹•ä½œç¢ºèª
5. **ãƒ­ã‚°å‡ºåŠ›**: å®Ÿè¡Œãƒ•ãƒ­ãƒ¼ã®è©³ç´°ãªè¿½è·¡

#### 13.3.2 APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆé¸æŠ

**å‹•ä½œç¢ºèªæ¸ˆã¿ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- âœ… **Coinbase Exchange API**: `https://api.exchange.coinbase.com/products/ICP-USD/candles`
- âœ… **HTTPBin**: `https://httpbin.org/get`, `https://httpbin.org/post`
- âœ… **GitHub API**: `https://api.github.com/zen`

**æ¨å¥¨äº‹é …**:
1. **å¤–éƒ¨HTTPS API**ã‚’é–‹ç™ºæ™‚ã‹ã‚‰ä½¿ç”¨
2. **ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIP**ã€**HTTPãƒ—ãƒ­ãƒˆã‚³ãƒ«**ã¯é¿ã‘ã‚‹
3. **å°ã•ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹**ã‹ã‚‰å§‹ã‚ã¦æ®µéšçš„ã«æ‹¡å¼µ

#### 13.3.3 ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³

**å …ç‰¢ãªã‚¨ãƒ©ãƒ¼å‡¦ç†ã®è¨­è¨ˆæ€æƒ³**:
1. **å¤šå±¤é˜²å¾¡**: HTTPå±¤ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å±¤ã€ICå±¤ã§ã®å€‹åˆ¥ã‚¨ãƒ©ãƒ¼å‡¦ç†
2. **ã‚¨ãƒ©ãƒ¼åˆ†é¡**: å•é¡Œã®ç¨®é¡ã«å¿œã˜ãŸé©åˆ‡ãªå¯¾å¿œç­–ã®è‡ªå‹•é¸æŠ
3. **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£**: æŠ€è¡“çš„è©³ç´°ã‚’éš ã—ãŸåˆ†ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
4. **å¾©æ—§å¯èƒ½æ€§**: ãƒªãƒˆãƒ©ã‚¤å¯èƒ½ãªã‚¨ãƒ©ãƒ¼ã¨ä¸å¯èƒ½ãªã‚¨ãƒ©ãƒ¼ã®æ˜ç¢ºãªåŒºåˆ¥
5. **ç›£è¦–çµ±åˆ**: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ†æã¨äºˆé˜²çš„å¯¾ç­–

### 13.4 ä»Šå¾Œã®æ”¹å–„æ–¹å‘

#### 13.4.1 çŸ­æœŸæ”¹å–„é …ç›®

1. **IC0406ã‚¨ãƒ©ãƒ¼ã®æ ¹æœ¬è§£æ±º**
   - Candidå½¢å¼ã®å®Œå…¨ä¸€è‡´
   - ICå…¬å¼ä»•æ§˜ã¨ã®è©³ç´°æ¯”è¼ƒ

2. **Transformé–¢æ•°ã®å®Œå…¨çµ±åˆ**
   - ICã‚·ã‚¹ãƒ†ãƒ APIã¨ã®çµ±åˆå®Œäº†
   - Queryé–¢æ•°ã¨ã—ã¦ã®æ­£ã—ã„å®Ÿè£…

3. **åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ**
   - å„HTTPãƒ¡ã‚½ãƒƒãƒ‰ã®å‹•ä½œç¢ºèª
   - ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç¶²ç¾…çš„ãƒ†ã‚¹ãƒˆ

#### 13.4.2 é•·æœŸæ‹¡å¼µè¨ˆç”»

1. **é«˜åº¦ãªTransformæ©Ÿèƒ½**
   - ã‚«ã‚¹ã‚¿ãƒ Transformé–¢æ•°API
   - å‹•çš„Transformé–¢æ•°ç™»éŒ²

2. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
   - ã‚µã‚¤ã‚¯ãƒ«è¨ˆç®—ã®ç²¾å¯†åŒ–
   - ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†ã®é«˜é€ŸåŒ–

3. **é–‹ç™ºè€…ä½“é¨“å‘ä¸Š**
   - ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«ã®å……å®Ÿ
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ”¹å–„

### 13.5 å®Ÿè£…çµ±è¨ˆã¨æˆæœ

#### 13.5.1 å®Ÿè£…è¦æ¨¡

**ã‚³ãƒ¼ãƒ‰é‡**:
- åŸºæœ¬HTTPå‹å®šç¾©: ~200è¡Œ
- Management Canisterçµ±åˆ: ~400è¡Œ
- Transformé–¢æ•°å®Ÿè£…: ~200è¡Œ
- ä¾¿åˆ©é–¢æ•°ç¾¤: ~300è¡Œ
- ãƒ†ã‚¹ãƒˆãƒ»ä¾‹ç¤ºã‚³ãƒ¼ãƒ‰: ~200è¡Œ

**ãƒ†ã‚¹ãƒˆçµæœ**:
- âœ… **Transformé–¢æ•°**: ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‹•ä½œç¢ºèª
- âœ… **ä¾¿åˆ©é–¢æ•°**: å…¨HTTPãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…å®Œäº†
- â³ **åŸºæœ¬HTTP Outcall**: IC0406ã‚¨ãƒ©ãƒ¼è§£æ±ºä¸­

#### 13.5.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

**ãƒ“ãƒ«ãƒ‰æ™‚é–“**: ~7ç§’ï¼ˆNimâ†’WASMå¤‰æ›ï¼‰
**ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚é–“**: ~10-15ç§’ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒï¼‰
**Transformå‡¦ç†**: 4â†’1ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ç¢ºèª

#### 13.5.3 äº’æ›æ€§é”æˆåº¦

| æ©Ÿèƒ½ | Motoko | Rust | Nimå®Ÿè£… |
|------|--------|------|---------|
| åŸºæœ¬HTTP Outcall | âœ… | âœ… | â³ |
| Transformé–¢æ•° | âœ… | âœ… | âœ… |
| è‡ªå‹•ã‚µã‚¤ã‚¯ãƒ«é€ä¿¡ | âŒ | âœ… | âœ… |
| ä¾¿åˆ©é–¢æ•° | âš ï¸ | âœ… | âœ… |
| ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | âš ï¸ | âœ… | âœ… |

### 13.6 ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã®è²¢çŒ®

#### 13.6.1 æŠ€è¡“æ–‡æ›¸åŒ–

**ç”Ÿæˆã•ã‚ŒãŸæˆæœç‰©**:
1. **åŒ…æ‹¬çš„ãªå®Ÿè£…ä»•æ§˜æ›¸** (æœ¬æ–‡æ›¸)
2. **å‹•ä½œä¾‹ã¨ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**
3. **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰**
4. **è¨€èªé–“æ¯”è¼ƒè³‡æ–™**

#### 13.6.2 ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹åŒ–

**å…¬é–‹äºˆå®šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- HTTP OutcallåŸºæœ¬å®Ÿè£…
- Transformé–¢æ•°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- ä¾¿åˆ©é–¢æ•°ç¾¤
- ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ˆã‚Šã€Nimã§ã®HTTP Outcallå®Ÿè£…ãŒå®Œå…¨ã«ä½“ç³»åŒ–ã•ã‚Œã€ä»–ã®é–‹ç™ºè€…ãŒåŒæ§˜ã®å®Ÿè£…ã‚’è¡Œã†éš›ã®è²´é‡ãªãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¨ãªã‚Šã¾ã™ã€‚

---

æœ¬ä»•æ§˜æ›¸ã¯ã€ICPã®HTTP Outcallæ©Ÿèƒ½ã‚’Nimã§å®‰å…¨ã‹ã¤åŠ¹ç‡çš„ã«åˆ©ç”¨ã™ã‚‹ãŸã‚ã®åŒ…æ‹¬çš„ãªã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã¨å®Ÿè£…çµŒé¨“ã‚’æä¾›ã—ã¾ã™ã€‚å®Ÿè£…æ™‚ã¯æ®µéšçš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’å–ã‚Šã€å„ãƒ•ã‚§ãƒ¼ã‚ºã§ã®ãƒ†ã‚¹ãƒˆã¨æ¤œè¨¼ã‚’é‡è¦–ã™ã‚‹ã“ã¨ã§ã€ä¿¡é ¼æ€§ã®é«˜ã„HTTPé€šä¿¡æ©Ÿèƒ½ã‚’å®Ÿç¾ã—ã¾ã™ã€‚
