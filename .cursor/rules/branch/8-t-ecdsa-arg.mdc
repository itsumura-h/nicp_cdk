---
description: 
globs: 
alwaysApply: true
---
このブランチで行うべきタスクは、ICPのManagiment canisterのpublic key関数を呼ぶために必要な引数を、candidの仕様に基づいて正しくcandid messageに変換できることです。

public key関数の引数の仕様は、Motokoでは以下のようになっています。

```
type ecdsa_public_key_args = record {
    canister_id : opt canister_id;
    derivation_path : vec blob;
    key_id : record { curve : ecdsa_curve; name : text };
};
```
https://internetcomputer.org/docs/building-apps/network-features/signatures/t-ecdsa#obtaining-public-keys

ecdsa_curveはvariant型であり、`secp256k1`と`secp256r1`のどちらかの値を持ちます。

didファイルの文法は以下を参考にしてください。
https://internetcomputer.org/docs/building-apps/interact-with-canisters/candid/using-candid/

didファイルを変更した後は、`dfx deoloy`コマンドを実行した後でcanisterのインターフェースの型定義を変更していいか対話型で聞かれるので、yesをターミナルに入力してください。

タスクが成功するかどうかテストする時は、`/application/examples/arg_msg_reply` ディレクトリに移動して、 `dfx deoloy` コマンドを実行してファイルのビルドを行い、 `dfx canister call arg_msg_reply_backend responseTEcdsaPublicKeyArgs` コマンドを実行してcanister callを行ってください。




